

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>5.1.1. Data Structure &#8212; A Beginner&#39;s Guide To Citizen Data Science</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Chapter5/data_structure';</script>
    <link rel="canonical" href="https://bradybr.github.io/citizen_data_science/intro/Chapter5/data_structure.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5.1.2. Data Types" href="data_types.html" />
    <link rel="prev" title="5.1. Data" href="data.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/npp_logo.png" class="logo__image only-light" alt="A Beginner's Guide To Citizen Data Science - Home"/>
    <script>document.write(`<img src="../_static/npp_logo.png" class="logo__image only-dark" alt="A Beginner's Guide To Citizen Data Science - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Beginner’s Guide To Citizen Data Science:
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../Chapter1/introduction.html">1. Introduction</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Chapter1/book_organization.html">1.1. Book Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter1/objectives.html">1.2. Objectives</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Chapter2/what_is_data_science.html">2. What Is Data Science?</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Chapter2/problems_we_solve.html">2.1. Problems We Solve</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter2/fields_of_study.html">2.2. Fields of Study</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter2/skills_and_tools.html">2.3. Skills &amp; Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter2/roles.html">2.4. Roles</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Chapter3/citizen_data_scientist.html">3. The Citizen Data Scientist</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Chapter3/how_they_add_value.html">3.1. How They Add Value</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter3/prerequisites.html">3.2. Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter3/getting_started.html">3.3. Getting Started</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Chapter4/business_analytics.html">4. Business Analytics Overview</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Chapter4/analytics_continuum.html">4.1. Analytics Continuum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter4/project_ideation.html">4.2. Project Ideation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter4/project_charters.html">4.3. Project Charters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter4/CRISP-DM.html">4.4. CRISP-DM</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="project_workflow.html">5. The Project Workflow</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active has-children"><a class="reference internal" href="data.html">5.1. Data</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l3 current active"><a class="current reference internal" href="#">5.1.1. Data Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_types.html">5.1.2. Data Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_acquisition.html">5.1.3. Data Acquisition</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_integrity.html">5.1.4. Data Integrity</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../zreferences.html">6. References</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/Chapter5/data_structure.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>

</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Data Structure</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="data-structure">
<h1><span class="section-number">5.1.1. </span>Data Structure<a class="headerlink" href="#data-structure" title="Permalink to this heading">#</a></h1>
<p>Real world data is messy.  There’s no end to the challenges you’ll run into.  The good news is there are a few ways to look at the data to easily understand what kind of information it carries to give you a nice head start on addressing any issues.  Regardless of the type of data you’re working with, structures and hierarchies are generally present and convey the information required for certain types of analysis and modeling.</p>
<p>Let’s start with unit structures and nested hierarchies contained in the data.</p>
<p>What do we mean by data structures?  These are formats and levels in the data that can be thought of as how the data relates to itself.  Whenever the conversation turns to talking about what kind of data is available for your project, you should immediately start asking questions about what’s know as the unit, or level, of analysis to understand how to analyze the data properly.  After that, we want to start thinking about the “shape” of our data, i.e. wide vs. long.</p>
<ul class="simple">
<li><p>Unit of Analysis</p></li>
<li><p>Wide vs. Long Data</p></li>
</ul>
<p>Understanding this kind of detail as early as possible is super important when we start talking to our subject matter experts about data.</p>
<p><strong><h3>Unit of Analysis</h3></strong></p>
<p><em>Unit of analysis</em>, or level of analysis, is is first up when we start analyzing the structure of our data.  You can think of this as the details contained in a <em>row</em> of data.  It always made sense to me to also think of it as having some kind of subject, e.g. by Customer, by Region, or by Manufacturer.  If our data has been prefiltered down to just one Customer, then you’ll only have one unit/level, but it’s still the highest <em>object</em> level that everything else in the data relates to.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unit of Analysis is the lowest grain of the dataset, conveying what information is recorded in a row of data.</p>
</div>
<p>For example, if we have a sales report and we have a column called “Customer”, then I would say our unit of analysis is “Sales, by Customer”.  We may also see nested hierarchies such as “by Customer, by Region”.  So you might see something like - Costco as the customer, and then there are 3 Regions, Midwest, Northeast, and South, that all roll up to the Costco banner level.  You will also frequently run into having a time frame or frequency in your data as well.  So it might be something like “by Customer, by Region, by Day”.</p>
<p>These are all examples of the unit of analysis that map to whatever the data in your set actually is.  If it’s a daily sales report, then it’s “Sales, by Customer, by Region, by Day”.  Each Customer-Region will have sales for each day for the overall time horizon of your data set.</p>
<p>It’ll be much easier to grasp if we jump in and look at some actual data.  Below we show 10 random rows from the classic Iris flower dataset.  This one is about as simple as it gets.</p>
<div class="cell tag_r tag_e tag_m tag_o tag_v tag_- tag_i tag_n tag_p tag_u tag_t docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sepal_length</th>
      <th>sepal_width</th>
      <th>petal_length</th>
      <th>petal_width</th>
      <th>species</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>134</th>
      <td>6.1</td>
      <td>2.6</td>
      <td>5.6</td>
      <td>1.4</td>
      <td>virginica</td>
    </tr>
    <tr>
      <th>60</th>
      <td>5.0</td>
      <td>2.0</td>
      <td>3.5</td>
      <td>1.0</td>
      <td>versicolor</td>
    </tr>
    <tr>
      <th>89</th>
      <td>5.5</td>
      <td>2.5</td>
      <td>4.0</td>
      <td>1.3</td>
      <td>versicolor</td>
    </tr>
    <tr>
      <th>53</th>
      <td>5.5</td>
      <td>2.3</td>
      <td>4.0</td>
      <td>1.3</td>
      <td>versicolor</td>
    </tr>
    <tr>
      <th>59</th>
      <td>5.2</td>
      <td>2.7</td>
      <td>3.9</td>
      <td>1.4</td>
      <td>versicolor</td>
    </tr>
    <tr>
      <th>104</th>
      <td>6.5</td>
      <td>3.0</td>
      <td>5.8</td>
      <td>2.2</td>
      <td>virginica</td>
    </tr>
    <tr>
      <th>68</th>
      <td>6.2</td>
      <td>2.2</td>
      <td>4.5</td>
      <td>1.5</td>
      <td>versicolor</td>
    </tr>
    <tr>
      <th>20</th>
      <td>5.4</td>
      <td>3.4</td>
      <td>1.7</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>83</th>
      <td>6.0</td>
      <td>2.7</td>
      <td>5.1</td>
      <td>1.6</td>
      <td>versicolor</td>
    </tr>
    <tr>
      <th>45</th>
      <td>4.8</td>
      <td>3.0</td>
      <td>1.4</td>
      <td>0.3</td>
      <td>setosa</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can see from the table above that this set is 150 observations of individual flowers, recording 4 measurements and 1 variable indicating the specific Specie of flower.</p>
<p>This one is pretty straightforward.  What do you think?  What would you say the unit of analysis is?  What does each row correspond to?</p>
<p>If you asked me, I’d say it’s -</p>
<blockquote>
<div><p>Measurements, by <strong>Flower</strong> (each row are the measurements for just one flower)</p>
</div></blockquote>
<br>
<p>Ok, that was an easy one.  How about the Gasoline Consumption dataset below from the same <code class="docutils literal notranslate"><span class="pre">pydataset</span></code> library?</p>
<div class="cell tag_r tag_e tag_m tag_o tag_v tag_- tag_i tag_n tag_p tag_u tag_t docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country</th>
      <th>year</th>
      <th>lgaspcar</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>AUSTRIA</td>
      <td>1960</td>
      <td>4.173244</td>
    </tr>
    <tr>
      <th>2</th>
      <td>AUSTRIA</td>
      <td>1961</td>
      <td>4.100989</td>
    </tr>
    <tr>
      <th>3</th>
      <td>AUSTRIA</td>
      <td>1962</td>
      <td>4.073177</td>
    </tr>
    <tr>
      <th>4</th>
      <td>AUSTRIA</td>
      <td>1963</td>
      <td>4.059509</td>
    </tr>
    <tr>
      <th>5</th>
      <td>AUSTRIA</td>
      <td>1964</td>
      <td>4.037689</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>338</th>
      <td>U.S.A.</td>
      <td>1974</td>
      <td>4.798626</td>
    </tr>
    <tr>
      <th>339</th>
      <td>U.S.A.</td>
      <td>1975</td>
      <td>4.804932</td>
    </tr>
    <tr>
      <th>340</th>
      <td>U.S.A.</td>
      <td>1976</td>
      <td>4.814891</td>
    </tr>
    <tr>
      <th>341</th>
      <td>U.S.A.</td>
      <td>1977</td>
      <td>4.811032</td>
    </tr>
    <tr>
      <th>342</th>
      <td>U.S.A.</td>
      <td>1978</td>
      <td>4.818454</td>
    </tr>
  </tbody>
</table>
<p>342 rows × 3 columns</p>
</div></div></div>
</div>
<p>What do you think?  Can you see the categorical and hierarchical levels in the data?  If I was working on this project, I would say the unit of analysis for our data is</p>
<blockquote>
<div><p>Gas Consumption (lgaspcar), by <strong>Country</strong>, by <strong>Year</strong></p>
</div></blockquote>
<p>Did you come up with the same?</p>
<p>Maybe you’re asking why understanding this level of analysis thing matters?  Well, there are a number of super important reasons.  First and foremost, you need to know how to read the data so you can analyze what’s being recorded.  One of the first things you might want to do is some exploratory summary descriptive kind of views.  You’ll have a very difficult time knowing how to ask your questions and look at the data if you don’t know how it’s structured.</p>
<p>For the gasoline consumption example above, we can ask a few basic investigatory questions now that we understand it’s “Gas Consumption, by <strong>Country</strong>, by <strong>Year</strong>”.  We’ll cover this in much more detail in the upcoming <span class="xref std std-doc">../Chapter5/EDA</span> section, but for now see if you can follow along without too much explanation.</p>
<p>Below we show the “counts” as number or records for each Country by Year.</p>
<div class="cell tag_r tag_e tag_m tag_o tag_v tag_- tag_i tag_n tag_p tag_u tag_t docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>country</th>
      <th>AUSTRIA</th>
      <th>BELGIUM</th>
      <th>CANADA</th>
      <th>DENMARK</th>
      <th>FRANCE</th>
      <th>GERMANY</th>
      <th>GREECE</th>
      <th>IRELAND</th>
      <th>ITALY</th>
      <th>JAPAN</th>
      <th>NETHERLA</th>
      <th>NORWAY</th>
      <th>SPAIN</th>
      <th>SWEDEN</th>
      <th>SWITZERL</th>
      <th>TURKEY</th>
      <th>U.K.</th>
      <th>U.S.A.</th>
    </tr>
    <tr>
      <th>year</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1960</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1961</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1962</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1963</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1964</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1965</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1966</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1967</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1968</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1969</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1970</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1971</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1972</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1973</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1974</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1975</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1976</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1977</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1978</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now we know that every country has at least one record for every year, what if we wanted to aggregate the data in some way?  You’d need to know what levels you want to roll your values up to.  See below where we have calculated the average gasoline consumption (lgaspcar) by Country for all of the years in the dataset.</p>
<div class="cell tag_r tag_e tag_m tag_o tag_v tag_- tag_i tag_n tag_p tag_u tag_t docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country</th>
      <th>avg_lgaspcar</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>15</th>
      <td>TURKEY</td>
      <td>5.766355</td>
    </tr>
    <tr>
      <th>6</th>
      <td>GREECE</td>
      <td>4.878679</td>
    </tr>
    <tr>
      <th>2</th>
      <td>CANADA</td>
      <td>4.862402</td>
    </tr>
    <tr>
      <th>17</th>
      <td>U.S.A.</td>
      <td>4.819075</td>
    </tr>
    <tr>
      <th>9</th>
      <td>JAPAN</td>
      <td>4.699642</td>
    </tr>
    <tr>
      <th>14</th>
      <td>SWITZERL</td>
      <td>4.237586</td>
    </tr>
    <tr>
      <th>7</th>
      <td>IRELAND</td>
      <td>4.225560</td>
    </tr>
    <tr>
      <th>3</th>
      <td>DENMARK</td>
      <td>4.189886</td>
    </tr>
    <tr>
      <th>11</th>
      <td>NORWAY</td>
      <td>4.109773</td>
    </tr>
    <tr>
      <th>10</th>
      <td>NETHERLA</td>
      <td>4.080338</td>
    </tr>
    <tr>
      <th>0</th>
      <td>AUSTRIA</td>
      <td>4.056487</td>
    </tr>
    <tr>
      <th>12</th>
      <td>SPAIN</td>
      <td>4.055314</td>
    </tr>
    <tr>
      <th>13</th>
      <td>SWEDEN</td>
      <td>4.006055</td>
    </tr>
    <tr>
      <th>16</th>
      <td>U.K.</td>
      <td>3.984685</td>
    </tr>
    <tr>
      <th>1</th>
      <td>BELGIUM</td>
      <td>3.922286</td>
    </tr>
    <tr>
      <th>5</th>
      <td>GERMANY</td>
      <td>3.893389</td>
    </tr>
    <tr>
      <th>4</th>
      <td>FRANCE</td>
      <td>3.815198</td>
    </tr>
    <tr>
      <th>8</th>
      <td>ITALY</td>
      <td>3.729646</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>This dataset is pretty simple too so no doubt you would have been able to figure all of this out without having to realize that you were actually considering the unit of analysis as you were going along, but at least notice all of the things we needed to know about our data for a simple aggregation.</p>
<p>When our data starts to get more complicated, and I promise it will in the real world, you will absolutely want to make sure you take adequate time in the beginning scoping stages of your project to think about what levels you have so you can be better prepared to ask a lot of questions and interrogate your data properly.</p>
<p><strong><h3>Long vs. Wide Data</h3></strong></p>
<p>Next up we’ll take a look at some of the common data <em>shapes</em> you’ll run into.</p>
<p>Basically the idea here is that data can be recorded in a couple of different ways.  Different structures require different operations for creating new data, aggregating, building graphs and plots, modeling, and many other data munging techniques.  None of these formats are right or wrong necessarily, but as you’ll come to learn it’s really just a function of how the data was generated/stored coupled with what we need to do with it, and if those two align or not.  If they do not align, well, then you’ll need to do something about it by reshaping the data somehow.  This is where we go next.</p>
<h4>Long  Data</h4><p>Let’s see what we’re talking about by creating a small synthetic set of a student’s test scores.  The unit of analysis for the datset would be</p>
<blockquote>
<div><p>Scores, by Class, by Date.</p>
</div></blockquote>
<div class="cell tag_r tag_e tag_m tag_o tag_v tag_- tag_i tag_n tag_p tag_u tag_t docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>class</th>
      <th>score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2024-01-01</td>
      <td>History</td>
      <td>100</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2024-01-01</td>
      <td>Science</td>
      <td>94</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2024-01-01</td>
      <td>Math</td>
      <td>91</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2024-01-01</td>
      <td>Art</td>
      <td>90</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2024-01-02</td>
      <td>History</td>
      <td>98</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2024-01-02</td>
      <td>Science</td>
      <td>95</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2024-01-02</td>
      <td>Math</td>
      <td>91</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2024-01-02</td>
      <td>Art</td>
      <td>99</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2024-01-03</td>
      <td>History</td>
      <td>94</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2024-01-03</td>
      <td>Science</td>
      <td>100</td>
    </tr>
    <tr>
      <th>10</th>
      <td>2024-01-03</td>
      <td>Math</td>
      <td>93</td>
    </tr>
    <tr>
      <th>11</th>
      <td>2024-01-03</td>
      <td>Art</td>
      <td>95</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Want to venture a guess as to whether this is <em>wide</em> or <em>long</em> data?</p>
<p>That’s correct!  I have no doubt you said <em>long</em> data.  Good job.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Long data consists of one row per unit of analysis per time period.  Therefore, each subject will have multiple rows if there are multiple other levels in the unit of analysis.</p>
</div>
<h4>Wide Data</h4><p>So how about <em>wide</em> data then?  I’m sure you can already imagine what it might look like.  Imagine casting all of the individual levels of a variable out into their own columns.  So each Class will now have their own column, and the value will be the Score.  Pretty simple.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Wide data will have each subject’s information spread out horizontally in a single row, with each variable in a separate column, vs. having repeated rows for all of the additional variable levels of analysis.</p>
</div>
<p>Instead of creating a new wide set to illustrate, let’s introduce the topic of <em>pivoting</em> and transform our long data we’ve already created by “casting” it into a wide format.</p>
<div class="cell tag_r tag_e tag_m tag_o tag_v tag_- tag_i tag_n tag_p tag_u tag_t docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>Art</th>
      <th>History</th>
      <th>Math</th>
      <th>Science</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2024-01-01</td>
      <td>90.0</td>
      <td>100.0</td>
      <td>91.0</td>
      <td>94.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2024-01-02</td>
      <td>99.0</td>
      <td>98.0</td>
      <td>91.0</td>
      <td>95.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2024-01-03</td>
      <td>95.0</td>
      <td>94.0</td>
      <td>93.0</td>
      <td>100.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Pretty straight forward, right?  You can see each row now contains just one Date record, with all of the Student’s grades distributed by Class within that one row for the date.</p>
<p>So far so good.  You’ll come to understand that this topic of data structures and formats can actually become super complicated and difficult to deal with.  This is why we spend so much of our time working with and massaging the data.  It often takes quite a bit of effort to get data in the right shape for the analysis we want to perform.</p>
<p>Let’s now move to the next section and talk about the different Types of data we can expect to run across.</p>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Chapter5"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="data.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">5.1. </span>Data</p>
      </div>
    </a>
    <a class="right-next"
       href="data_types.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">5.1.2. </span>Data Types</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Brian Brady
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>